/*C12*/SET SCHEMA PUBLIC
drop table if exists article CASCADE 
drop table if exists article_authors CASCADE 
drop table if exists author CASCADE 
drop table if exists book CASCADE 
drop table if exists todos CASCADE 
create table article (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
create table article_authors (articles_id bigint not null, authors_id bigint not null, primary key (articles_id, authors_id))
create table author (id bigint generated by default as identity (start with 1), first_name varchar(255), last_name varchar(255), primary key (id))
create table book (id bigint generated by default as identity (start with 1), author varchar(255) not null, title varchar(255) not null, primary key (id))
create table todos (id bigint generated by default as identity (start with 1), completed boolean not null, created timestamp, deadline date not null, person varchar(255) not null, title varchar(255) not null, primary key (id))
alter table article_authors add constraint FKj99bytjjw7e59alclixxt50kt foreign key (authors_id) references author
alter table article_authors add constraint FK43hptpdv1x4pnux2june3c0t0 foreign key (articles_id) references article
INSERT INTO BOOK VALUES(1,'J.R.R Tolkien','Hobbit')
COMMIT
INSERT INTO BOOK VALUES(2,'J.R.R Tolkien','Hobbit2')
COMMIT
INSERT INTO BOOK VALUES(3,'Stephen King','1409')
COMMIT
INSERT INTO BOOK VALUES(4,'Stephen King','Skazani na Shawshank')
COMMIT
INSERT INTO ARTICLE VALUES(1,'Autobiografia')
INSERT INTO AUTHOR VALUES(1,'Zenek','Martyniuk')
INSERT INTO ARTICLE_AUTHORS VALUES(1,1)
COMMIT
INSERT INTO ARTICLE VALUES(2,'Koncerty')
INSERT INTO AUTHOR VALUES(2,'Zenon','Martyniuk')
INSERT INTO ARTICLE_AUTHORS VALUES(2,2)
COMMIT
